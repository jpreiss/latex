\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{jpposter}

\RequirePackage{jpmath}
\RequirePackage{jptext}

\RequirePackage{multicol}
\RequirePackage{multirow}
\RequirePackage[explicit]{titlesec}

% Control amount of white space between columns.
% TODO: Make it a key=value option.
\columnsep=1.0in
\DeclareOption{tighter}{\columnsep=0.5in}
\ProcessOptions\relax

% Thickness of the black line between columns - None!
\columnseprule=0pt

% Use sans-serif font.
\renewcommand{\familydefault}{\sfdefault}
% Never indent.
\setlength\parindent{0pt}

% Define colored boxes.
\definecolor{secgrey}{rgb}{0.32, 0.32, 0.32}
\definecolor{boxblue}{rgb}{0.15, 0.35, 0.65}
\definecolor{boxorange}{rgb}{0.80, 0.30, 0.0}
\newtcolorbox{bluebox}[1][]{
    fonttitle=\bfseries,
    boxsep=3mm,
    arc=4mm,
    halign title=center,
    colframe=boxblue,
    colbacktitle=boxblue!70!white,
    colback=boxblue!5!white,
    title=#1}
% TODO: Reduce code repetition.
\newtcolorbox{orangebox}[1][]{
    fonttitle=\bfseries,
    boxsep=3mm,
    arc=4mm,
    halign title=center,
    colframe=boxorange,
    colbacktitle=boxorange!70!white,
    colback=boxorange!5!white,
    title=#1}
\newtcolorbox{greybox}[1][]{
    fonttitle=\bfseries,
    boxsep=3mm,
    arc=4mm,
    halign title=center,
    colframe=black!80!white,
    colbacktitle=black!55!white,
    colback=black!4!white,
    title=#1}

% TODO: Use nicer colors?
\newcommand{\alert}[1]{\textcolor{red}{#1}}
\newcommand{\structure}[1]{\textcolor{boxblue}{#1}}

% Set up section titles.
\titleformat{name=\section,numberless}
    {\Large \bfseries}
    {}
    {0em}
    {\colorbox{secgrey}{\parbox[t][1.6cm]{\dimexpr\linewidth-2\fboxsep\relax}{\vspace{10pt}\hspace{8pt}\textcolor{white}{#1}}}}
\titlespacing{\section}{0pt}{-1.8ex}{0.0ex} % Reduce the amount of spacing before a section.
\titlespacing{\subsection}{0pt}{0.0ex}{0.0ex} % Reduce the amount of spacing before a subsection.
